<!DOCTYPE html>
<html lang='en'>

<!-- Metadata -->

<head>
  <meta charset='utf-8'>

  <!-- Title -->
  <title>G04: Lumen Vitae Financial Data Vis, DS 4200 S22</title>

  <!-- CSS Styling -->
  <link rel='stylesheet' href='style.css'>

  <!-- Favicons -->
  <link rel='apple-touch-icon' sizes='180x180' href='favicons/apple-touch-icon.png'>
  <link rel='icon' type='image/png' sizes='32x32' href='favicons/favicon-32x32.png'>
  <link rel='icon' type='image/png' sizes='16x16' href='favicons/favicon-16x16.png'>
  <link rel='manifest' href='favicons/site.webmanifest'>
  <link rel='shortcut icon' href='favicons/favicon.ico'>
  <meta name='msapplication-TileColor' content='#da532c'>
  <meta name='msapplication-config' content='favicons/browserconfig.xml'>
  <meta name='theme-color' content='#ffffff'>
</head>

<!-- Main page content -->

<body>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>

  <!-- Update this with your GitHub repo URL -->
  <span id='forkongithub'><a
      href='https://github.com/NEU-DS-4200-S22-Students/project-g04-lumen-vitae-financial-data-vis'>Fork me on
      GitHub</a></span>

  <!-- Writeup -->
  <div class='content-column'>
    <h1>Project Group 04: Lumen Vitae Financial Data Vis, DS 4200 S22</h1>

    <p><strong>Xin Jin</strong>, <strong>Ryan Stephen</strong>, <strong>Kunhan Wu</strong></p>

    <p>Service-Learning Course Project as part of
      <a href='https://neu-ds-4200-s22.github.io/'>Ds 4200 S22 Information Presentation & Visualization</a>,
      taught by <a href='https://cody.khoury.northeastern.edu/'>Prof. Cody Dunne</a>,
      <a href='https://visualization.khoury.northeastern.edu/'>Data Visualization @ Khoury</a>,
      <a href='https://www.khoury.northeastern.edu/'>Northeastern University</a>.
    </p>


    <h1>Abstract</h1>

    <p>Lumen Vitae is a Catholic humanitarian organization empowering children and young adults to
      strive for Abundant Life in marginalized communities across Haiti. As an NGO, the capital
      source of Lumen Vitae is mainly from the donation. To evaluate their donation situation,
      Lumen Vitae wants us to design a visualization as the business intelligence to help their
      fundraisers learn the information of donation source and better leverage fundraising goals.
      Hence, this project aims to leverage financial data gained from Lumen Vittae about donation
      situation in past several years to provide insight and analysis on the geographical
      distribution of donation source and the ratio statistics of donation. The goal is to enable
      funding raisers to learn the tendency of the donation and the ratio statistics of donation
      in each state through years, which would help the Lumen Vitae gain a comprehensive knowledge
      about current donation situation, how to set the donation goal at different state rationally,
      which state might be the future main donation source, etc. Based on the gained dataset, we
      plan to create a map visualization with a scroll bar to show the geographical distribution
      of donation source through time. Another feature is that users could learned detailed
      information such as tendency, ratio statistics, etc., when hovering mouse on the
      specific state.
    </p>


    <h1>Visualization</h1>



  </div>
  <div>
    <button onclick="showMapHiddenRing();">Map Visualization</button>
    <button onclick="showRingHiddenMap();">CircularRing Visualization</button>
  </div>
  <!-- Visualization goes here -->
  <div id= 'mapHolder' class='vis-holder'>
    <!-- Change viewbox to whatever you want, e.g., '0 0 1000 6000' This determines your aspect ratio and coordinate system -->
    <!-- Delete all the sample SVG code below after the viewbox to before the closing tag. Populate this part of the SVG with D3. -->
    <svg id='bubbleMap' preserveAspectRatio='xMidYMid meet' class='vis-svg' viewBox='0 0 1000 1000' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
      <!-- <text x='50%' y='-10%' text-anchor='middle'>Bubble Map Visualization</text> -->
      <!-- Don't delete the closing tag! -->
    </svg >
    <svg id='barPlot' preserveAspectRatio='xMidYMid meet' class='vis-svg' viewBox='0 0 1000 1000' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
      <!-- <text x='50%' y='-10%' text-anchor='middle'>Bubble Map Visualization</text> -->
      <!-- Don't delete the closing tag! -->
    </svg >
  </div>
  <div id= 'mapDetailInfoHolder' class='vis-holder'>
    <svg id='pieChart' preserveAspectRatio='xMidYMid meet' class='vis-svg' viewBox='0 0 1000 1000' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
    </svg >
    <svg id='donationsAnalysis' preserveAspectRatio='xMidYMid meet' class='vis-svg' viewBox='0 0 1000 1000' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
    </svg >
  </div>
  <div id= 'circularRingHolder' class ='vis-holder' style="display: none" >
    <svg id='circularRing' preserveAspectRatio='xMidYMid meet' class='vis-svg' viewBox='0 0 1000 1000' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
    </svg>
  </div>

  <!-- Further writeup -->
  <div class='content-column'>

    <h1>Visualization Explanations</h1>
    <p>
      Our visualization consists of two main parts, which are ‘Map Visualization' and ‘CircularRing Visualization’.
    </p>
    <h2> Map Visualization Explanation </h2>
    <p>
      For the map visualization, it includes 4 graphes. The first graph is a bubble map, which shows the geographical donation source in the US map. The size of the bubble represents the amount of the donation from the specific state. There is also a legend next to the bubble map, which elaborates the relationship between bubble size and the donation amount. The text on the legend represents the threshold amount. The second graph is an ordered bar chart, which shows the donation amount and the donation sources’ state names directly. The third graph is a pie chart, which shows the ratio of the donation of the chosen sources. The fourth graph is a text list, which writes the chosen state’s donation amount and the total donation amount directly. If you did not interact with the map visualization, the default chosen data would be the largest three donation sources, which are Texas, Illinois and Pennsylvania.
    </p>
    <p>
      For the interactive features of map visualization. First, if you brush in the bubble map (first graph), the edge of the chosen bubbles would change to red, which means the bubbles and their corresponding data are selected. Then, the edge of bars with the chosen data in the bar chart (second graph) would change to red as well. Besides, the pie chart (third graph) and geographical donation list (fourth graph) would update immediately according to the chosen bubbles/data. Second, if you just click somewhere in the bubble map, all the things would go back to the default state. Third, if you hover on the bar in the bar chart (second graph), the edge of the hovered bar would change to red, which means the bar and its corresponding data are selected. Then, the edge of the bubble with corresponding data in the bubble map (first graph) would change to red as well. In addition, the pie chart (third graph) and geographical donation list (fourth graph) would update immediately according to the chosen bubbles/data.
    </p>

    <h2>Circular Ring Visualization Explanation</h2>

    <p> The Circular Ring Visualization has three rings displays results of the visualized data in the center of these rings. The outer ring represents the different amounts of children that are sponsored per one donation.
      Some donors choose to donate for more than one child, and the outer ring gives percentages and aggregate amounts of donors per category. The middle ring is designed to show and emphasize the range of each state's amount of donors.
      Each state is shown by their abbreviation, and their amount of donors (Count) and percentage of total donors. Texas hosts the greatest amount of donors and has accounted for 193, or 30.88%, of all donors.
      Finally the inner ring shows the type of donation that was used to send money. The six categories including recurring donations and one-time donations in hand with each kind of possible donation method. In this ring, Count is how many donations were made using a given method, and the percentage is utilized to show
      how impactful this kind of donation is against other donation methods. For example, the largest donation method was Recurring Monthly Donornet with 367, or 58.72%, of all donations being sent in this manner.
    <p>


      <a href = 'https://docs.google.com/presentation/d/18iZU_SMuaXcxGo0YaJs04Q2id-1S73pDrZiAjk_iY0U/edit?usp=sharing'>Presentation Slides</a>
    </p>

    <h1>Demo Video</h1>


    <video controls width='100%'>
      <source src= 'files/Final_Video.mp4' type= 'video/mp4'>
    </video>

    <h1>Acknowledgments</h1>

    <p>
      List here where any code, packages/libraries, text, images, designs, etc. that you leverage come from.
    </p>

    <ul>
      <li><a href='https://d3js.org/'>
          D3: Data-Driven Documents</a>
        by Mike Bostock is used for manipulating the DOM to create visualizations. In particular:
        <ul>
          <li><a href='https://github.com/d3/d3-brush'>d3-brush</a>, which let you select a one- or two-dimensional
            region using the mouse or touch. We use it for brushing.</li>
          <li><a href='https://github.com/d3/d3-dispatch'>d3-dispatch</a>, which lets you register named callbacks and
            call them with arguments. We use it for linking.</li>
        </ul>
      </li>
      <li><a href='https://codepo8.github.io/css-fork-on-github-ribbon/#'>
          Pure CSS responsive 'Fork me on GitHub' ribbon</a>
        by Chris Heilmann is used to create the banner that links back to the source code repository.
      </li>
      <li><a href='https://d3-graph-gallery.com/graph/bubblemap_basic.html'>
          Basic bubble map in d3.js</a>
        by Yan Holtz is used to create the bubbleMap as a sample code to draw the map and locate the bubble circle on the map.
      </li>
      <li><a href='https://eric.clst.org/tech/usgeojson/'>
          GEOJSON AND KML DATA FOR THE UNITED STATES</a>
        by Saint Paul is used to download the json file in the data folder which is used to draw the map in the bubble map vis.
      </li>
      <li><a href='https://observablehq.com/@chrisdaly/usa-bubble-map'>
          USA Bubble Map</a>
        by Chris Daly is used to create the legend in the bubble map visualization and adjust circle radius according to the data value.
      </li>
      <li><a href='https://d3-graph-gallery.com/graph/barplot_ordered.html'>
          Ordered barplot in d3.js</a>
        by Yan Holtz is used as a sample data to create the barPlot.
      </li>
      <li><a href='https://d3-graph-gallery.com/graph/pie_annotation.html'>
          Pie chart with annotation</a>
        by Yan Holtz is used as a sample data to create the pieCharts.
      </li>
      <li><a href="https://embed.plnkr.co/plunk/2p0zmp">
           A Nested Donut Chart</a>
        is used as a sample example to create the multi donut chart.
      </li>
    </ul>
  </div>

  <!-- Scripts at the end avoid need for dealing with async, defer, or onload event handlers -->
  <script src='lib/d3.v7.3.0/d3.js'></script>
  <script src='js/bubbleMap.js'></script>
  <script src='js/barPlot.js'></script>
  <script src='js/pieChart.js'></script>
  <script src='js/donationAnalysis.js'></script>
  <script src='js/vs2.js'></script>
  <script src='js/visualization.js'></script>
  <!-- Realize above two buttons' functionalities -->
  <script>
    let showMapHiddenRing = () => {
      let mapHolder = document.getElementById("mapHolder");
      mapHolder.setAttribute('style', 'display: flex')
      let mapDetailInfoHolder = document.getElementById("mapDetailInfoHolder");
      mapDetailInfoHolder.setAttribute('style', 'display: flex')
      let circularRingHolder = document.getElementById("circularRingHolder");
      circularRingHolder.setAttribute('style', 'display: none')
    }
    let showRingHiddenMap = () => {
      let mapHolder = document.getElementById("mapHolder");
      mapHolder.setAttribute('style', 'display: none')
      let mapDetailInfoHolder = document.getElementById("mapDetailInfoHolder");
      mapDetailInfoHolder.setAttribute('style', 'display: none')
      let circularRingHolder = document.getElementById("circularRingHolder");
      circularRingHolder.setAttribute('style', 'display: flex')
    }
  </script>
</body>

</html>
